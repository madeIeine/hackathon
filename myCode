var stateName = getColumn("US States", "State Name");
var stateCapital = getColumn("US States", "Capital");

onEvent("startButton", "click", function() {
  setScreen("gameScreen");
  updateGameScreen();
});

function updateGameScreen() {
  playSound("sound://category_background/synthesize.mp3", false);
  
  // Map stateName to their capitals
  var stateCapitalNames = stateName.map(function(state, index) {
    return "The capital of " + state + " is: " + stateCapital[index];
  });
  
  // Loop through each text area and update its content
  for (var i = 1; i <= 3; i++) {
    var index = randomNumber(0, stateName.length - 1);
    
    // Add a conditional to check if the state and capital are not already displayed
    if (getText("text_area" + i) !== stateName[index]) {
      setText("text_area" + i, stateName[index]);
      setText("answer_" + i, stateCapitalNames[index]);
    } else {
      // If the state and capital are already displayed, decrement i to repeat the loop iteration
      i--;
    }
  }
}

onEvent("resultButton", "click", function() {
  setScreen("resultScreen");
});

onEvent("playAgainButton", "click", function() {
  setScreen("startScreen");
});
